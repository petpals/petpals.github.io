(function(){var c=function(a){c.timer||(c.timer=setTimeout(function(){c.timer=0;a.fire("change")},a.config.minimumChangeMilliseconds||100))};CKEDITOR.plugins.add("onchange",{init:function(a){a.on("destroy",function(){c.timer&&clearTimeout(c.timer);c.timer=null});a.on("saveSnapshot",function(b){(!b.data||!b.data.contentOnly)&&c(a)});a.on("contentDom",function(){a.document.on("keydown",function(b){!b.data.$.ctrlKey&&!b.data.$.metaKey&&(b=b.data.$.keyCode,(8==b||13==b||32==b||46<=b&&90>=b||96<=b&&111>=
b||186<=b&&222>=b||229==b)&&c(a))});a.document.on("drop",function(){c(a)});a.document.getBody().on("drop",function(){c(a)})});a.on("mode",function(){if("source"==a.mode){var b=a.textarea||a._.editable;b.on("keydown",function(b){!b.data.$.ctrlKey&&!b.data.$.metaKey&&c(a)});b.on("drop",function(){c(a)});b.on("input",function(){c(a)})}});a.on("afterCommandExec",function(b){"source"!=b.data.name&&!1!==b.data.command.canUndo&&c(a)})},afterInit:function(a){a.getCommand("undo").on("afterUndo",function(){c(a)});
a.getCommand("redo").on("afterRedo",function(){c(a)})}})})();