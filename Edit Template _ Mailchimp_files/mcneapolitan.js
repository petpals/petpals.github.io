//>>built
require({cache:{"dijit/layout/AccordionContainer":function(){define("require dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/keys dojo/_base/lang dojo/sniff dojo/topic ../focus ../_base/manager dojo/ready ../_Widget ../_Container ../_TemplatedMixin ../_CssStateMixin ./StackContainer ./ContentPane dojo/text!./templates/AccordionButton.html ../a11yclick".split(" "),function(m,n,f,p,u,h,l,k,g,c,t,q,r,v,y,z,x,w,e,A,B,C,
d){r=f("dijit.layout._AccordionButton",[x,e,A],{templateString:d,label:"",_setLabelAttr:{node:"titleTextNode",type:"innerHTML"},title:"",_setTitleAttr:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClassAttr:"",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitAccordionTitle",getParent:function(){return this.parent},buildRendering:function(){this.inherited(arguments);var a=this.id.replace(" ","_");h.set(this.titleTextNode,"id",a+"_title");this.focusNode.setAttribute("aria-labelledby",
h.get(this.titleTextNode,"id"));u.setSelectable(this.domNode,!1)},getTitleHeight:function(){return g.getMarginSize(this.domNode).h},_onTitleClick:function(){this.getParent().selectChild(this.contentWidget,!0);v.focus(this.focusNode)},_onTitleKeyDown:function(a){return this.getParent()._onKeyDown(a,this.contentWidget)},_setSelectedAttr:function(a){this._set("selected",a);this.focusNode.setAttribute("aria-expanded",a?"true":"false");this.focusNode.setAttribute("aria-selected",a?"true":"false");this.focusNode.setAttribute("tabIndex",
a?"0":"-1")}});q("dojo-bidi")&&r.extend({_setLabelAttr:function(a){this._set("label",a);h.set(this.titleTextNode,"innerHTML",a);this.applyTextDir(this.titleTextNode)},_setTitleAttr:function(a){this._set("title",a);h.set(this.titleTextNode,"title",a);this.applyTextDir(this.titleTextNode)}});var b=f("dijit.layout._AccordionInnerContainer"+(q("dojo-bidi")?"_NoBidi":""),[x,A],{baseClass:"dijitAccordionInnerContainer",isLayoutContainer:!0,buildRendering:function(){this.domNode=k.place("\x3cdiv class\x3d'"+
this.baseClass+"' role\x3d'presentation'\x3e",this.contentWidget.domNode,"after");var a=this.contentWidget,b=t.isString(this.buttonWidget)?t.getObject(this.buttonWidget):this.buttonWidget;this.button=a._buttonWidget=(new b({contentWidget:a,label:a.title,title:a.tooltip,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,iconClass:a.iconClass,id:a.id+"_button",parent:this.parent})).placeAt(this.domNode);this.containerNode=k.place("\x3cdiv class\x3d'dijitAccordionChildWrapper' role\x3d'tabpanel' style\x3d'display:none'\x3e",
this.domNode);this.containerNode.setAttribute("aria-labelledby",this.button.id);k.place(this.contentWidget.domNode,this.containerNode)},postCreate:function(){this.inherited(arguments);var a=this.button,b=this.contentWidget;this._contentWidgetWatches=[b.watch("title",t.hitch(this,function(b,E,d){a.set("label",d)})),b.watch("tooltip",t.hitch(this,function(b,E,d){a.set("title",d)})),b.watch("iconClass",t.hitch(this,function(b,E,d){a.set("iconClass",d)}))]},_setSelectedAttr:function(a){this._set("selected",
a);this.button.set("selected",a);if(a&&(a=this.contentWidget,a.onSelected))a.onSelected()},startup:function(){this.contentWidget.startup()},destroy:function(){this.button.destroyRecursive();n.forEach(this._contentWidgetWatches||[],function(a){a.unwatch()});delete this.contentWidget._buttonWidget;delete this.contentWidget._wrapperWidget;this.inherited(arguments)},destroyDescendants:function(a){this.contentWidget.destroyRecursive(a)}});q("dojo-bidi")&&(b=f("dijit.layout._AccordionInnerContainer",b,
{postCreate:function(){this.inherited(arguments);var a=this.button;this._contentWidgetWatches.push(this.contentWidget.watch("textDir",function(b,D,d){a.set("textDir",d)}))}}));f=f("dijit.layout.AccordionContainer",B,{duration:y.defaultDuration,buttonWidget:r,baseClass:"dijitAccordionContainer",buildRendering:function(){this.inherited(arguments);this.domNode.style.overflow="hidden";this.domNode.setAttribute("role","tablist")},startup:function(){this._started||(this.inherited(arguments),this.selectedChildWidget&&
this.selectedChildWidget._wrapperWidget.set("selected",!0))},layout:function(){var a=this.selectedChildWidget;if(a){var b=a._wrapperWidget.domNode,D=g.getMarginExtents(b),b=g.getPadBorderExtents(b),d=a._wrapperWidget.containerNode,c=g.getMarginExtents(d),d=g.getPadBorderExtents(d),w=this._contentBox,e=0;n.forEach(this.getChildren(),function(b){b!=a&&(e+=g.getMarginSize(b._wrapperWidget.domNode).h)});this._verticalSpace=w.h-e-D.h-b.h-c.h-d.h-a._buttonWidget.getTitleHeight();this._containerContentBox=
{h:this._verticalSpace,w:this._contentBox.w-D.w-b.w-c.w-d.w};a&&a.resize(this._containerContentBox)}},_setupChild:function(a){a._wrapperWidget=b({contentWidget:a,buttonWidget:this.buttonWidget,id:a.id+"_wrapper",dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,parent:this});this.inherited(arguments);k.place(a.domNode,a._wrapper,"replace")},removeChild:function(a){a._wrapperWidget&&(k.place(a.domNode,a._wrapperWidget.domNode,"after"),a._wrapperWidget.destroy(),delete a._wrapperWidget);l.remove(a.domNode,
"dijitHidden");this.inherited(arguments)},getChildren:function(){return n.map(this.inherited(arguments),function(a){return"dijit.layout._AccordionInnerContainer"==a.declaredClass?a.contentWidget:a},this)},destroy:function(){this._animation&&this._animation.stop();n.forEach(this.getChildren(),function(a){a._wrapperWidget?a._wrapperWidget.destroy():a.destroyRecursive()});this.inherited(arguments)},_showChild:function(a){a._wrapperWidget.containerNode.style.display="block";return this.inherited(arguments)},
_hideChild:function(a){a._wrapperWidget.containerNode.style.display="none";this.inherited(arguments)},_transition:function(a,b,d){8>q("ie")&&(d=!1);this._animation&&(this._animation.stop(!0),delete this._animation);var c=this;if(a){a._wrapperWidget.set("selected",!0);var w=this._showChild(a);this.doLayout&&a.resize&&a.resize(this._containerContentBox)}b&&(b._wrapperWidget.set("selected",!1),d||this._hideChild(b));if(d){var e=a._wrapperWidget.containerNode,h=b._wrapperWidget.containerNode;d=a._wrapperWidget.containerNode;
a=g.getMarginExtents(d);d=g.getPadBorderExtents(d);var f=a.h+d.h;h.style.height=c._verticalSpace-f+"px";this._animation=new p.Animation({node:e,duration:this.duration,curve:[1,this._verticalSpace-f-1],onAnimate:function(a){a=Math.floor(a);e.style.height=a+"px";h.style.height=c._verticalSpace-f-a+"px"},onEnd:function(){delete c._animation;e.style.height="auto";b._wrapperWidget.containerNode.style.display="none";h.style.height="auto";c._hideChild(b)}});this._animation.onStop=this._animation.onEnd;this._animation.play()}return w},
_onKeyDown:function(a,b){if(!this.disabled&&!a.altKey&&(b||a.ctrlKey)){var d=a.keyCode;if(b&&(d==c.LEFT_ARROW||d==c.UP_ARROW)||a.ctrlKey&&d==c.PAGE_UP)this._adjacent(!1)._buttonWidget._onTitleClick(),a.stopPropagation(),a.preventDefault();else if(b&&(d==c.RIGHT_ARROW||d==c.DOWN_ARROW)||a.ctrlKey&&(d==c.PAGE_DOWN||d==c.TAB))this._adjacent(!0)._buttonWidget._onTitleClick(),a.stopPropagation(),a.preventDefault()}}});q("dijit-legacy-requires")&&z(0,function(){m(["dijit/layout/AccordionPane"])});f._InnerContainer=
b;f._Button=r;return f})},"mojo/neapolitan/TourCoachmarks":function(){define(["dojo/dom","mojo/Coachmarks"],function(m,n){return new n("neapolitan-coachmark",{step1:{message:"Drag any of the blocks below into the campaign preview on the left. Go ahead, try dragging a \x3cstrong\x3etext block\x3c/strong\x3e to the top of your campaign.",placement:m.byId("blocks-container"),completesOn:"neapolitan/blocks/text/dropped"},step2:{message:"Once you've dropped in a block, its editor appears in the right column. Most blocks have editable Content, Style and Settings options. Try changing something in the Style tab.",
arrow:"right",placement:m.byId("previewcol"),dependsOn:["step1"],completesOn:"neapolitan/blocks/style/changed"},step3:{message:"Changes in the Style tab can be applied to all blocks of the same type. When you're done, click the Save \x26 Close button below.",placement:m.byId("toolcol"),dependsOn:["step2"],completesOn:"mojo/editor/done"},step4:{message:"Mouse over blocks to access the editor. You'll also find options to reorder, duplicate, and delete the block. Try dragging the reorder icon on a block to change its position.",
arrow:"left",placement:m.byId("previewcol"),dependsOn:["step3"],completesOn:"neapolitan/blocks/reorder"},step5:{message:"As you edit your campaign, it's a good idea to test it out. In the Preview \x26 Test menu above, click Enter preview mode.",arrow:"top",placement:m.byId("toolcol"),dependsOn:["step4"],completesOn:"#showPreview:click"},step6:{message:"Every campaign created in our new editor is mobile-friendly and adapts to fit small screens (in email clients that support media queries). Our side-by-side preview mode lets you  see how your email will look in both desktop and mobile environments. Click the \x26times; to exit Preview Mode.",
arrow:"none",placement:m.byId("mobile-preview"),dependsOn:["step5"],completesOn:".close-preview:click"},step7:{message:"There's a lot more to see in the new editor, like these \x3ca href\x3d'#' onclick\x3d'window.toggleHotkeyHelpPane(); return false;'\x3ekeyboard shortcuts\x3c/a\x3e, but we'll let you explore. We're still improving it so please \x3ca target\x3d'_blank' href\x3d'https://mailchimp.wufoo.com/forms/feedback-about-the-new-mailchimp-editor/'\x3esend us your feedback\x3c/a\x3e.",arrow:"none",
placement:m.byId("blocks-container"),dependsOn:["step6"],endStep:!0}})})},"mojo/neapolitan/FeedbackPane":function(){define("dojo/_base/declare mojo/widgets/DrillNav mojo/neapolitan/editors/FeedbackEditor dojo/_base/lang dojo/_base/array dojo/query dojo/dom dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-construct dojo/request/xhr mojo/Pusher dojo/on dojo/text!./templates/feedbackPane.html dijit/registry dojo/topic mojo/utils mojo/app/wizard dijit/Dialog mojo/widgets/NoDataBlock dojox/html/entities".split(" "),
function(m,n,f,p,u,h,l,k,g,c,t,q,r,v,y,z,x,w,e,A,B,C){return m([n],{templateString:y,itemTemplateString:'\x3cli class\x3d"c-feedbackItem media js-feedback-item"\x3e\x3cdiv id\x3d"{id}" data-action-type\x3d"feedback-item"\x3e\x3cdiv class\x3d"feedbackItem__inner"\x3e\x3cimg src\x3d"{created_by_avatar}" class\x3d"media-image border-radius--lv1" width\x3d"48" height\x3d"48" alt\x3d"{created_by_name}" /\x3e\x3cdiv class\x3d"media-body"\x3e\x3cp class\x3d"!margin--lv0 fwb overflow-ellipsis"\x3e{created_by_name} \x3cspan class\x3d"badge"\x3e{num_replies}\x3c/span\x3e\x3c/p\x3e\x3cdiv class\x3d"c-commentMessageSummary"\x3e{message}\x3c/div\x3e\x3cp class\x3d"!margin--lv0 small-meta dim-el"\x3e{created_at}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e',
badgeString:'\x3cspan class\x3d"badge p0 margin--lv2 !margin-top-bottom--lv0 !margin-right--lv0" id\x3d"comments-unread-count" style\x3d"display:none;"\x3e\x3c/span\x3e',pushChannel:null,postCreate:function(){var d=l.byId("feedback-link");if(!d)throw Error("Can't find comments tab link to append the comments count badge to.");this.badge=t.place(this.badgeString,d);this.noDataWidget=new B({type:"comments"},this.noFeedbackBlock);c.add(this.noDataWidget.domNode,"noborder");this.showTopics();x.subscribe("mojo/feedback/refresh",
p.hitch(this,function(a){var b=!0;a&&!1===a.flashNotification&&(b=!1);this.showTopics(b)}));this._connectToPusher();var b=this;this.own(v(this.domNode,".js-feedback-item \x3e div:click",function(a){a.preventDefault();a.stopPropagation();"feedback-item"==k.get(this,"data-action-type")&&b.showFeedbackItem(this.id)}),v(this.noDataWidget.sendTestLink,"click",function(a){a.preventDefault();a.stopPropagation();e.showSendTestDialog()}))},_connectToPusher:function(){this.pushChannel&&r.load().then(p.hitch(this,
function(d){(d.channels.channels[this.pushChannel]?d.channels.channels[this.pushChannel]:d.subscribe(this.pushChannel)).bind("change",p.hitch(this,function(b){b.campaign_id==this.campaignId&&w.globalPublish("mojo/feedback/refresh",{flashNotification:!0})}))}))},showFeedbackItem:function(d){var b=new f;b.topicId=d;b.feedbackUrl=this.feedbackUrl;b.campaignId=this.campaignId;b.show()},showNotifications:function(){var d=this,b=z.byId("comment-notifications-dialog");b&&b.destroyRecursive();(new A({id:"comment-notifications-dialog",
title:"Comment Notifications",style:"width:600px",href:d.feedbackUrl+"/feedback-notifications-dialog?id\x3d"+d.campaignId,execute:function(){var a=[];h("input:checked","comment-notifications").forEach(function(b){a.push(b.value)});q.post(d.feedbackUrl+"/set-feedback-notifications",{data:{id:d.campaignId,notifications:a.join()},handleAs:"json",sync:!0}).then(function(a){a.success&&z.byId("comment-notifications-dialog").hide()})}})).show()},newTopic:function(d){d.preventDefault();d=new f;d.feedbackUrl=
this.feedbackUrl;d.campaignId=this.campaignId;d.show()},showUnreadTopicsCount:function(d,b){var a=0;u.forEach(d,p.hitch(this,function(b){"N"==b.is_read&&(a+=1);a+=b.unread_replies}));0<a?(g.set(this.badge,"display","inline"),this.badge.innerHTML=a,b&&(g.set(this.badge,"background-color","#52bad5"),setTimeout(function(){g.set(this.badge,"background-color","");setTimeout(function(){g.set(this.badge,"background-color","#52bad5");setTimeout(function(){g.set(this.badge,"background-color","");setTimeout(function(){g.set(this.badge,
"background-color","#52bad5");setTimeout(function(){g.set(this.badge,"background-color","")},500)},500)},500)},500)},500))):g.set(this.badge,"display","none")},processMessage:function(d){d=C.encode(d);d=d.replace(/(https?:\/\/\S+)/ig,'\x3ca href\x3d"$1" class\x3d"linkified"\x3e$1\x3c/a\x3e');return d=d.replace(/(?:\r\n|\r|\n)/g,"\x3cbr /\x3e")},showTopics:function(d){var b=this;q.post(this.feedbackUrl+"/topics",{data:{id:this.campaignId},handleAs:"json",sync:!0}).then(function(a){b.showUnreadTopicsCount(a,
d);if(a&&0!==a.length){g.set(b.noFeedbackBlock,"display","none");g.set(b.allFeedback,"display","");t.empty(b.completedNav);t.empty(b.uncompletedNav);for(var w=0,e=0;e<a.length;e++){b.mainNav="Y"==a[e].is_complete?b.completedNav:b.uncompletedNav;a[e].message=b.processMessage(a[e].message);a[e].created_by_name=C.encode(a[e].created_by_name);var f=b.addNavItem(a[e]);"Y"==a[e].is_complete&&(c.add(f,"done"),w++);"Y"!=a[e].is_read?c.add(f,"unread"):0<a[e].unread_replies&&c.add(f,"newreply");0===a[e].num_replies?
g.set(h("span.badge",f)[0],"display","none"):1==a[e].num_replies&&(h("span.badge",f)[0].innerHTML="1")}0<w?g.set(l.byId("completed-feedback-list"),"display",""):g.set(l.byId("completed-feedback-list"),"display","none")}else g.set(b.noFeedbackBlock,"display",""),g.set(b.allFeedback,"display","none")})}})})},"mojo/neapolitan/editors/FeedbackEditor":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated ./_EditorMixin dojo/text!./templates/feedbackEditor.html dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/_base/connect dojo/_base/event dojo/dom-attr dojo/dom-style dojo/dom-class dojo/request/xhr dojo/query dojo/on dijit/registry mojo/utils mojo/Pusher mojo/user dijit/Dialog dojo/NodeList-dom dojox/html/entities".split(" "),
function(m,n,f,p,u,h,l,k,g,c,t,q,r,v,y,z,x,w,e,A,B,C,d){return m([n,f,p],{feedbackUrl:null,campaignId:null,topicId:null,templateString:u,widgetsInTemplate:!0,replyString:'\x3cdiv class\x3d"media border-bottom-light padding--lv3 !padding-left-right--lv0 !padding-top--lv0 margin--lv3 !margin-left-right--lv0 !margin-top--lv0"\x3e\x3cimg src\x3d"{created_by_avatar}" class\x3d"media-image border-radius--lv1" width\x3d"48" height\x3d"48" alt\x3d"{created_by_name}"\x3e\x3cdiv class\x3d"media-body"\x3e\x3cp class\x3d"!margin--lv0 fwb overflow-ellipsis"\x3e{created_by_name}\x3c/p\x3e\x3cp class\x3d"!margin--lv0"\x3e{message}\x3cspan class\x3d"source-{source}"\x3e (From: {source})\x3c/span\x3e\x3c/p\x3e\x3cp class\x3d"!margin--lv0 small-meta dim-el"\x3e{created_at}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e',
topicString:'\x3cp class\x3d"!margin--lv0 fwb overflow-ellipsis"\x3e{created_by_name}\x3c/p\x3e\x3cp class\x3d"!margin--lv0"\x3e{message}\x3cspan class\x3d"source-{source}"\x3e (From: {source})\x3c/span\x3e\x3c/p\x3e\x3cp class\x3d"!margin--lv0 small-meta dim-el"\x3e{created_at}\x3c/p\x3e',avatarString:'\x3cimg src\x3d"{created_by_avatar}" class\x3d"media-image border-radius--lv1" width\x3d"48" height\x3d"48"/\x3e',postCreate:function(){var b=this;z(this.domNode,"a:click",function(a){var d=t.get(this,
"data-action-type");d||window.open(a.target.href,"_blank");a.preventDefault();a.stopPropagation();switch(d){case "notifications":b.showNotifications();break;case "mark-completed":b._toggleCompleted(this);break;case "delete":var e=x.byId("comment-delete-dialog");e.onExecute=function(){e.hide();b._deleteTopic(e)};e.show()}});this.publishReady()},processMessage:function(b){b=d.encode(b);b=b.replace(/(https?:\/\/\S+)/ig,'\x3ca href\x3d"$1" class\x3d"linkified"\x3e$1\x3c/a\x3e');return b=b.replace(/(?:\r\n|\r|\n)/g,
"\x3cbr /\x3e")},show:function(){var b=this;this.topicId?v.post(this.feedbackUrl+"/topic-detail",{data:{id:this.campaignId,feedback_id:this.topicId,socket_id:e.getSocketId()},handleAs:"json"}).then(function(a){q.set(b.loading,"display","none");q.set(b.newTopicContainer,"display","none");q.set(b.topicContainer,"display","");a.topic.message=b.processMessage(a.topic.message);a.topic.created_by_name=d.encode(a.topic.created_by_name);var e=h.replace(b.topicString,a.topic);k.place(k.toDom(e),b.topic);k.place(k.toDom(h.replace(b.avatarString,
h.mixin({w:54,h:54},a.topic))),b.creatorAvatar);k.place(k.toDom(h.replace(b.avatarString,{w:36,h:36,created_by_avatar:A.avatarUrl})),b.replyAvatar);e=y(".js-feedback-item",b.topicContainer)[0];"Y"==a.topic.is_complete?(r.add(e,"done"),b.markCompletedLink.innerHTML="Mark Open"):(r.remove(e,"done"),b.markCompletedLink.innerHTML="Mark Completed");l.forEach(a.replies,function(a){a.message=b.processMessage(a.message);a.created_by_name=d.encode(a.created_by_name);a=h.replace(b.replyString,a);k.place(k.toDom(a),
b.replies,"last")})}):(q.set(b.loading,"display","none"),q.set(b.topicContainer,"display","none"),q.set(b.newTopicContainer,"display",""),setTimeout(function(){b.newTopicMessage.focus()},500))},showNotifications:function(){var b=this,a=x.byId("comment-notifications-dialog");a&&a.destroyRecursive();(new B({id:"comment-notifications-dialog",title:"Comment Notifications",style:"width:600px",href:b.feedbackUrl+"/feedback-notifications-dialog?id\x3d"+b.campaignId+"\x26feedback_id\x3d"+b.topicId,execute:function(){for(var a=
y("input:checked","comment-notifications"),d=[],c=0;c<a.length;c++)d.push(a[c].value);v.post(b.feedbackUrl+"/set-feedback-notifications",{data:{id:b.campaignId,feedback_id:b.topicId,notifications:d.join(),socket_id:e.getSocketId()},handleAs:"json",sync:!0}).then(function(a){a.success&&x.byId("comment-notifications-dialog").hide()})}})).show()},_deleteTopic:function(){var b=this;v.post(this.feedbackUrl+"/delete-feedback",{data:{id:this.campaignId,feedback_id:this.topicId,socket_id:e.getSocketId()},
handleAs:"json"}).then(function(a){a.success&&(w.globalPublish("mojo/feedback/refresh"),b.done())})},_toggleCompleted:function(b){v.post(this.feedbackUrl+"/toggle-feedback-completed",{data:{id:this.campaignId,feedback_id:this.topicId,socket_id:e.getSocketId()},handleAs:"json"}).then(function(a){var d=y(b).parents(".js-feedback-item")[0];a.is_complete?(r.add(d,"done"),b.innerHTML="Mark Open"):(r.remove(d,"done"),b.innerHTML="Mark Completed")})},_onDone:function(b){c.stop(b);w.globalPublish("mojo/feedback/refresh",
{flashNotification:!1});this.done()},_addComment:function(b){c.stop(b);var a=this;v.post(this.feedbackUrl+"/reply-add",{data:{id:this.campaignId,feedback_id:this.topicId,message:this.message.value,socket_id:e.getSocketId()},handleAs:"json"}).then(function(b){b.reply.message=a.processMessage(b.reply.message);b.reply.created_by_name=d.encode(b.reply.created_by_name);b=h.replace(a.replyString,b.reply);k.place(k.toDom(b),a.replies,"last");a.message.value=""})},_addTopic:function(b){c.stop(b);var a=this;
v.post(this.feedbackUrl+"/add-feedback",{data:{id:this.campaignId,message:this.newTopicMessage.value,socket_id:e.getSocketId()},handleAs:"json"}).then(function(b){a.topicId=b.id;a.show()})}})})},"mojo/neapolitan/widgets/ViewerList":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/html dojo/_base/lang dojo/dom-style dojo/dom-construct dojo/dom-class mojo/hoverlist dojo/aspect dojo/text!./templates/viewerList.html".split(" "),function(m,n,f,p,u,h,l,k,g,c,t){return m([n,f],{templateString:t,
viewerRowString:'\x3cli class\x3d"viewer"\x3e\x3cimg class\x3d"userColor float-left border-radius--lv1" width\x3d"18" height\x3d"18" src\x3d{avatar}\x3e {name}\x3c/li\x3e',postCreate:function(){this._refreshMemberList();g.convert(this.domNode);c.after(this.app,"addViewer",u.hitch(this,this._refreshMemberList));c.after(this.app,"removeViewer",u.hitch(this,this._refreshMemberList))},_refreshMemberList:function(){l.empty(this.viewerList);var c=this.app.viewers,f=this.app.viewerCount;if(1<f){p.set(this.status,
f+" Editing");h.set(this.domNode,"display","");l.place('\x3cli class\x3d"title"\x3e\x3cstrong\x3eCurrently Editing:\x3c/strong\x3e\x3c/li\x3e',this.viewerList);for(var g in c)f=c[g],l.place(u.replace(this.viewerRowString,{name:f.name+(f.me?" (You)":""),avatar:f.avatar}),this.viewerList)}else h.set(this.domNode,"display","none")}})})},"mojo/neapolitan/mobile/EditorPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/query dojo/topic dojo/Deferred dojo/dom-class velocity/velocity mojo/neapolitan/EditorPane".split(" "),
function(m,n,f,p,u,h,l,k,g){return m([g],{ckEditorToggleHandler:null,ckEditorResizeHandler:null,postCreate:function(){this.inherited(arguments);this.ckEditorToggleHandler=u.subscribe("current/block/editor/toggle/ckeditor/mode",n.hitch(this,this._toggleCKEditMode))},destroy:function(){this.inherited(arguments);this.ckEditorToggleHandler.remove()},_defaultContainerStyles:function(){f.set(this.container,{width:"100%",height:"100%",position:"static",left:0,top:0,bottom:0,overflow:"initial",background:"#ffffff"})},
_toggleCKEditMode:function(c){c.isEditMode?this._ckFocusContainerStyles():this._defaultContainerStyles()},_ckFocusContainerStyles:function(c){f.set(this.container,{position:"static",height:"inherit"})},_show:function(c){var g=new h;p("body").addClass("open-drawer");document.getElementById("previewcol").style.display="none";c?this._showAnimation().then(function(){g.resolve()}):(f.set(this.domNode,"display","block"),g.resolve());return g},_showAnimation:function(){var c=new h;f.set(this.domNode,{display:"block"});
return c.promise},_hide:function(c){var g=new h;p("#content-link.active").length&&p("body:not(.slider-editor)").removeClass("open-drawer");c?(document.getElementById("previewcol").style.display="block",l.add(this.domNode,"editorPaneHiding"),this._hideAnimation().then(n.hitch(this,function(){this._hide(!1);l.remove(this.domNode,"editorPaneHiding");g.resolve()}))):(f.set(this.domNode,"display","none"),g.resolve());return g},_hideAnimation:function(){var c=new h;c.resolve();return c.promise}})})},"mojo/neapolitan/widgets/ImageList":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/imageList.html dojo/text!./templates/imageListMobile.html dojo/on dojo/_base/lang dojo/_base/connect dojo/dom-construct dojo/dom-style dojo/dom-class dojo/dom-attr dojo/_base/array dojo/query dijit/registry dojo/dnd/Source mojo/neapolitan/widgets/ImageRow".split(" "),
function(m,n,f,p,u,h,l,k,g,c,t,q,r,v,y,z,x){return m([n,f],{templateString:p,templateStringMobile:u,baseClass:"mojoImageList",maxImages:null,minImages:1,isMobile:!1,imagesRows:null,postMixInProperties:function(){this.images=this.images?l.clone(this.images):[];this.imageRows=[]},render:function(){var c=this;this.multipleImages=1<this.images.length;r.forEach(this.images,l.hitch(this,function(e,c){this._appendImage(c,e)}));r.forEach(this.imageRows,function(e){e.toggleDragHandle(c.multipleImages);e.setActions(c._getRowActions())})},
toggleUploadMessage:function(g){c.set(this.uploadOverlay,"display",g?"block":"")},constructor:function(c){c.isMobile&&(this.isMobile=c.isMobile,this.templateString=this.templateStringMobile)},postCreate:function(){var c=this;this.watch("images",l.hitch(this,function(){this.render();this._triggerDndSync();this._checkAddButton()}));this.render();this.isMobile||(this.dndSource=new z(this.imageList,{withHandles:!0,singular:!0,accept:"dndImageListItem"}),this.connect(this.dndSource,"onDropInternal",function(){this.imageRows=
[];var e=[];r.forEach(this.dndSource.getAllNodes(),function(g){g=y.byNode(g);c.imageRows.push(g);e.push(g.image)});this.images=e;this.onChange("reorder")}));this.connect(this.addBtn,"click",function(c){c.stopPropagation();c.preventDefault();this.addImage(null)});this._checkAddButton()},addImage:function(c){this._appendImage(this.images.length,c);this.images.push(c);this.images.length>this.minImages&&this.render();this._triggerDndSync();this._checkAddButton();this.onChange("image")},updateImage:function(c,
e){this.images[c]=e;this._appendImage(c,e);this._triggerDndSync()},removeImage:function(c){this.imageRows[c].destroy();this.imageRows.splice(c,1);this.images.splice(c,1);this.images.length===this.minImages&&this.render();this._triggerDndSync();this._checkAddButton();this.onChange("image")},_checkAddButton:function(){this.maxImages&&this.images.length>=this.maxImages?c.set(this.addBtn,"display","none"):c.set(this.addBtn,"display","block")},_appendImage:function(c,e){if(this.imageRows[c])this.imageRows[c].updateImage(e);
else{var f=new x({image:e,actions:this._getRowActions(),isMobile:this.isMobile,renderingType:this.renderingType});f.startup();this.imageRows[c]=f;f.on("change",l.hitch(this,function(c){var e=this.imageRows.indexOf(f);f.image&&this.updateImage(e,f.image);this.onChange(c)}));f.on("remove",l.hitch(this,function(){var c=this.imageRows.indexOf(f);this.removeImage(c)}));g.place(f.domNode,this.imageList)}},_getRowActions:function(){var c=["edit","link","alt"];this.isMobile&&(c=["link","alt"]);this.images.length>
this.minImages&&c.push("remove");return c},_triggerDndSync:function(){this.isMobile||this.dndSource.sync()},onChange:function(c){}})})},"url:dijit/layout/templates/AccordionButton.html":"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onTitleClick' class\x3d'dijitAccordionTitle' role\x3d\"presentation\"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d'titleNode,focusNode' data-dojo-attach-event\x3d'onkeydown:_onTitleKeyDown'\n\t\t\tclass\x3d'dijitAccordionTitleFocus' role\x3d\"tab\" aria-expanded\x3d\"false\"\n\t\t\x3e\x3cspan class\x3d'dijitInline dijitAccordionArrow' role\x3d\"presentation\"\x3e\x3c/span\n\t\t\x3e\x3cspan class\x3d'arrowTextUp' role\x3d\"presentation\"\x3e+\x3c/span\n\t\t\x3e\x3cspan class\x3d'arrowTextDown' role\x3d\"presentation\"\x3e-\x3c/span\n\t\t\x3e\x3cspan role\x3d\"presentation\" class\x3d\"dijitInline dijitIcon\" data-dojo-attach-point\x3d\"iconNode\"\x3e\x3c/span\x3e\n\t\t\x3cspan role\x3d\"presentation\" data-dojo-attach-point\x3d'titleTextNode, textDirNode' class\x3d'dijitAccordionText'\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n",
"url:mojo/neapolitan/editors/templates/feedbackEditor.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"loading"\x3e\n        \x3cdiv class\x3d"loadingbar alignc"\x3ePlease wait, loading...\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"feedback-editor" data-dojo-attach-point\x3d"newTopicContainer" style\x3d"display: none;"\x3e\n        \x3cdiv class\x3d"drillnavbar alignc border-bottom"\x3e\n            \x3ch4\x3eNew Comment\x3c/h4\x3e\n            \x3ca class\x3d"button-small drillback imgrpl-inline" href\x3d"#" data-dojo-attach-event\x3d"onclick:_onDone"\x3e\x3cspan class\x3d"freddicon arrow-left"\x3e\x3c/span\x3e\x3c/a\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"padding--lv3"\x3e\n            \x3ctextarea data-dojo-attach-point\x3d"newTopicMessage" class\x3d"newTopicMessage"\x3e\x3c/textarea\x3e\n            \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:_addTopic"\x3eAdd Comment\x3c/button\x3e\n            \x3ca href\x3d"#" data-dojo-attach-event\x3d"onclick:_onDone" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"feedback-editor" data-dojo-attach-point\x3d"topicContainer" style\x3d"display: none;"\x3e\n        \x3cdiv class\x3d"drillnavbar alignc border-bottom"\x3e\n            \x3ch4\x3eComments\x3c/h4\x3e\n            \x3ca class\x3d"button-small drillback imgrpl-inline" href\x3d"#" data-dojo-attach-event\x3d"onclick:_onDone"\x3e\x3cspan class\x3d"freddicon arrow-left"\x3e\x3c/span\x3e\x3c/a\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"editorscroll"\x3e\n            \x3cdiv class\x3d"media padding--lv3 border-bottom-light js-feedback-item"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"creatorAvatar"\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"media-body"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"topic"\x3e\x3c/div\x3e\n                    \x3cul class\x3d"small-meta linear-list dots selfclear section !margin--lv0"\x3e\n                        \x3cli\x3e\x3ca href\x3d"#" data-action-type\x3d"notifications"\x3eNotifications\x3c/a\x3e\x3c/li\x3e\n                        \x3cli\x3e\x3ca href\x3d"#" data-action-type\x3d"mark-completed" data-dojo-attach-point\x3d"markCompletedLink"\x3e\x3c/a\x3e\x3c/li\x3e\n                        \x3cli\x3e\x3ca href\x3d"#" data-action-type\x3d"delete"\x3eDelete\x3c/a\x3e\x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"padding--lv3"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"replies"\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"media"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"replyAvatar"\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"media-body"\x3e\n                        \x3ctextarea class\x3d"minh-lv6" placeholder\x3d"Enter your reply here." data-dojo-attach-point\x3d"message"\x3e\x3c/textarea\x3e\n                        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:_addComment"\x3eAdd Comment\x3c/button\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/neapolitan/templates/feedbackPane.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"editorscroll editorscroll--noPanel"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"allFeedback" style\x3d"display:none"\x3e\n            \x3cdiv id\x3d"feedback-list" data-dojo-attach-point\x3d"feedbackList"\x3e\n                \x3cul data-dojo-attach-point\x3d"uncompletedNav" class\x3d"drillnav block relative"\x3e\x3c/ul\x3e\n            \x3c/div\x3e\n            \x3cdiv id\x3d"completed-feedback-list" style\x3d"display:none;"\x3e\n                \x3cul data-dojo-attach-point\x3d"completedNav" class\x3d"drillnav block relative"\x3e\x3c/ul\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv id\x3d"no-feedback-block" data-dojo-attach-point\x3d"noFeedbackBlock" class\x3d"alignc"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:newTopic"\x3eAdd a Comment\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onclick:showNotifications" class\x3d"small-meta fwb"\x3eNotifications\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/widgets/templates/viewerList.html":'\x3cul class\x3d"hover-list click-to-open viewer-list inline vbar"\x3e\n    \x3cli class\x3d"inline"\x3e\n        \x3ca class\x3d"viewer-status" href\x3d"#" data-dojo-attach-point\x3d"status"\x3e\x3c/a\x3e\n        \x3cul class\x3d"right-edge" style\x3d"width:200px;" data-dojo-attach-point\x3d"viewerList"\x3e\x3c/ul\x3e\n    \x3c/li\x3e\n\x3c/ul\x3e',"url:mojo/neapolitan/widgets/templates/imageList.html":'\x3cdiv class\x3d"relative"\x3e\n\n    \x3cdiv class\x3d\'mojoImageList\' data-dojo-attach-point\x3d"imageList"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"margin--lv4 margin-top-bottom--lv0" data-dojo-attach-point\x3d"addBtn"\x3e\n        \x3cdiv class\x3d"margin--lv2 !margin-left-right--lv0 alignc"\x3e\n            \x3cbutton class\x3d"button"\x3eAdd Another Image\x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"uploadOverlay" class\x3d"mojoImageListOverlay alignc absolute pos-tb0 pos-lr0 padding--lv5 !padding-left-right--lv0"\x3e\n        \x3cp class\x3d"!margin--lv0 full-width fwb dim-el"\x3eWe\'re uploading your image now.\x3c/p\x3e\n        \x3cimg src\x3d"/images/loading_bar.gif" class\x3d"border-radius--lv1" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/widgets/templates/imageListMobile.html":'\x3cdiv class\x3d"relative"\x3e\n\n    \x3cdiv class\x3d\'mojoImageList mojoItems--mobile\' data-dojo-attach-point\x3d"imageList"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"margin--lv4 margin-top-bottom--lv0" data-dojo-attach-point\x3d"addBtn"\x3e\n        \x3cdiv class\x3d"margin--lv2 !margin-left-right--lv0 alignc"\x3e\n            \x3cbutton class\x3d"button"\x3eAdd Another Image\x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"uploadOverlay" class\x3d"mojoImageListOverlay alignc absolute pos-tb0 pos-lr0 padding--lv5 !padding-left-right--lv0"\x3e\n        \x3cp class\x3d"!margin--lv0 full-width fwb dim-el"\x3eWe\'re uploading your image now.\x3c/p\x3e\n        \x3cimg src\x3d"/images/loading_bar.gif" class\x3d"border-radius--lv1" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n'}});
define("mojo/mcneapolitan",[],1);